{"version":3,"sources":["../../src/validations/user_verify_password_validation.js"],"names":["isLength","min","withMessage","custom","value","req","query","User","findById","user","_id","then","userFound","match","matchPassword","Promise","reject"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,CACX,6BAAM,UAAN,EAAkBA,QAAlB,CAA2B;AAAEC,EAAAA,GAAG,EAAE;AAAP,CAA3B,EAAuCC,WAAvC,CAAmD,wCAAnD,CADW,EAEX,6BAAM,cAAN,EAAsBC,MAAtB,CAA8B,OAAOC,KAAP,EAAc;AAAEC,EAAAA;AAAF,CAAd,KAA0B;AACpD,MAAIC,KAAK,GAAGC,cAAKC,QAAL,CAAcH,GAAG,CAACI,IAAJ,CAASC,GAAvB,CAAZ;;AACA,SAAOJ,KAAK,CAACK,IAAN,CAAY,MAAMC,SAAN,IAAmB;AAClC,UAAMC,KAAK,GAAG,MAAMD,SAAS,CAACE,aAAV,CAAwBV,KAAxB,CAApB;AACA,QAAI,CAACS,KAAL,EAAY,OAAOE,OAAO,CAACC,MAAR,CAAe,iCAAf,CAAP;AACf,GAHM,CAAP;AAIH,CAND,CAFW,EASX,6BAAM,cAAN,EAAsBhB,QAAtB,CAA+B;AAAEC,EAAAA,GAAG,EAAE;AAAP,CAA/B,EAA2CC,WAA3C,CAAuD,4CAAvD,CATW,C","sourcesContent":["import { check, body } from 'express-validator';\r\nimport User from '../schema/user.schema';\r\n\r\nexport default [\r\n    check('password').isLength({ min: 4 }).withMessage('Password must be at least 4 characters'),\r\n    check('old_password').custom( async (value, { req }) => {\r\n        var query = User.findById(req.user._id)\r\n        return query.then( async userFound => {\r\n            const match = await userFound.matchPassword(value);\r\n            if (!match) return Promise.reject(\"Your old password doesn't match\");\r\n        });\r\n    }),\r\n    check('old_password').isLength({ min: 4 }).withMessage('Old Password must be at least 4 characters'),\r\n];"],"file":"user_verify_password_validation.js"}