{"version":3,"sources":["../../src/validations/user.validation.js"],"names":["not","isEmpty","withMessage","isEmail","custom","value","query","User","find","email","exec","then","user","length","Promise","reject","username","isLength","min"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,CACX,6BAAM,MAAN,EAAcA,GAAd,GAAoBC,OAApB,GAA8BC,WAA9B,CAA0C,wBAA1C,CADW,EAEX,6BAAM,OAAN,EAAeC,OAAf,GAAyBD,WAAzB,CAAqC,yBAArC,CAFW,EAGX,6BAAM,OAAN,EAAeF,GAAf,GAAqBC,OAArB,GAA+BC,WAA/B,CAA2C,0BAA3C,CAHW,EAIX,6BAAM,OAAN,EAAeE,MAAf,CAAuBC,KAAK,IAAI;AAC5B,MAAIC,KAAK,GAAGC,cAAKC,IAAL,CAAU;AAAEC,IAAAA,KAAK,EAAEJ;AAAT,GAAV,CAAZ;;AACA,SAAOC,KAAK,CAACI,IAAN,GAAaC,IAAb,CAAkBC,IAAI,IAAI;AAC7B,QAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB,OAAOC,OAAO,CAACC,MAAR,CAAe,uBAAf,CAAP;AACxB,GAFM,CAAP;AAGH,CALD,CAJW,EAUX,6BAAM,UAAN,EAAkBX,MAAlB,CAA0BC,KAAK,IAAI;AAC/B,MAAIC,KAAK,GAAGC,cAAKC,IAAL,CAAU;AAAEQ,IAAAA,QAAQ,EAAEX;AAAZ,GAAV,CAAZ;;AACA,SAAOC,KAAK,CAACI,IAAN,GAAaC,IAAb,CAAkBC,IAAI,IAAI;AAC7B,QAAIA,IAAI,CAACC,MAAL,GAAc,CAAlB,EAAqB,OAAOC,OAAO,CAACC,MAAR,CAAe,yBAAf,CAAP;AACxB,GAFM,CAAP;AAGH,CALD,CAVW,EAgBX,6BAAM,UAAN,EAAkBf,GAAlB,GAAwBC,OAAxB,GAAkCC,WAAlC,CAA8C,4BAA9C,CAhBW,EAiBX,6BAAM,UAAN,EAAkBe,QAAlB,CAA2B;AAAEC,EAAAA,GAAG,EAAE;AAAP,CAA3B,EAAuChB,WAAvC,CAAmD,wCAAnD,CAjBW,C","sourcesContent":["import { check } from 'express-validator';\r\nimport User from '../schema/user.schema';\r\n\r\nexport default [\r\n    check('name').not().isEmpty().withMessage('Name must not be empty'),\r\n    check('email').isEmail().withMessage('E-mail must be an email'),\r\n    check('email').not().isEmpty().withMessage('E-mail must not be empty'),\r\n    check('email').custom( value => {\r\n        var query = User.find({ email: value})\r\n        return query.exec().then(user => {\r\n            if (user.length > 0) return Promise.reject('E-mail already in use');\r\n        });\r\n    }),\r\n    check('username').custom( value => {\r\n        var query = User.find({ username: value})\r\n        return query.exec().then(user => {\r\n            if (user.length > 0) return Promise.reject('Username already in use');\r\n        });\r\n    }),\r\n    check('username').not().isEmpty().withMessage('Username must not be empty'),\r\n    check('password').isLength({ min: 4 }).withMessage('Password must be at least 4 characters')\r\n];"],"file":"user.validation.js"}