{"version":3,"sources":["../../src/validations/snippet.validation.js"],"names":["not","isEmpty","withMessage","custom","value","query","Snippet","find","title","exec","then","snippet","length","Promise","reject"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,CACX,6BAAM,mBAAN,EAA2BA,GAA3B,GAAiCC,OAAjC,GAA2CC,WAA3C,CAAuD,qCAAvD,CADW,EAEX,6BAAM,OAAN,EAAeF,GAAf,GAAqBC,OAArB,GAA+BC,WAA/B,CAA2C,yBAA3C,CAFW,EAGX,6BAAM,UAAN,EAAkBF,GAAlB,GAAwBC,OAAxB,GAAkCC,WAAlC,CAA8C,4BAA9C,CAHW,EAIX,6BAAM,OAAN,EAAeC,MAAf,CAAuBC,KAAK,IAAI;AAC5B,MAAIC,KAAK,GAAGC,iBAAQC,IAAR,CAAa;AAAEC,IAAAA,KAAK,EAAEJ;AAAT,GAAb,CAAZ;;AACA,SAAOC,KAAK,CAACI,IAAN,GAAaC,IAAb,CAAkBC,OAAO,IAAI;AAChC,QAAIA,OAAO,CAACC,MAAR,GAAiB,CAArB,EAAwB,OAAOC,OAAO,CAACC,MAAR,CAAe,sBAAf,CAAP;AAC3B,GAFM,CAAP;AAGH,CALD,CAJW,C","sourcesContent":["import { check } from 'express-validator';\r\nimport Snippet from '../schema/snippet.schema';\r\n\r\nexport default [\r\n    check('short_description').not().isEmpty().withMessage('Short description must not be empty'),\r\n    check('title').not().isEmpty().withMessage('Title must not be empty'),\r\n    check('language').not().isEmpty().withMessage('Language must not be empty'),\r\n    check('title').custom( value => {\r\n        var query = Snippet.find({ title: value})\r\n        return query.exec().then(snippet => {\r\n            if (snippet.length > 0) return Promise.reject('Title already in use');\r\n        });\r\n    }),\r\n];"],"file":"snippet.validation.js"}